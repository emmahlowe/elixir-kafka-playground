added error handling and moved files around
